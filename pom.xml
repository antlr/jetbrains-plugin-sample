<!--
This pom file the only here so that we can easily run ANTLR on the icons grammar.
It won't actually be able to compile the source without properly identifying all
of the jetbrains libraries, which apparently is nonobvious. Consequently,
use this to process the icons grammar but use intellij itself to compile
and build a plug-in.
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.sonatype.oss</groupId>
		<artifactId>oss-parent</artifactId>
		<version>9</version>
	</parent>

	<groupId>org.antlr</groupId>
	<artifactId>sample-jetbrains-plugin</artifactId>
	<packaging>jar</packaging>

	<version>0.1-SNAPSHOT</version>

	<name>Sample Jetbrains Plugin</name>
	<description> ANTLR Project Sample Jetbrains Plugin </description>

	<dependencies>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>LATEST</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.antlr</groupId>
			<artifactId>antlr4-runtime</artifactId>
			<version>LATEST</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.antlr</groupId>
			<artifactId>antlr-complete</artifactId>
			<version>LATEST</version>
		</dependency>
		<!-- project antlr/jetbrains (https://github.com/antlr/jetbrains)
		     should be installed by maven in local repository (maven Lifecycle-task install)-->
		<dependency>
			<groupId>org.antlr</groupId>
			<artifactId>jetbrains</artifactId>
			<version>0.1-SNAPSHOT</version>
		</dependency>
	</dependencies>

	<build>
		<sourceDirectory>src/java</sourceDirectory>
		<plugins>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>build-helper-maven-plugin</artifactId>
				<version>1.8</version>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-surefire-plugin</artifactId>
				<version>2.12.4</version>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>1.7</source>
					<target>1.7</target>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.antlr</groupId>
				<artifactId>antlr4-maven-plugin</artifactId>
				<version>4.5.1</version>
				<executions>
					<execution>
						<configuration>
							<sourceDirectory>src/grammars</sourceDirectory>
						</configuration>
						<id>antlr1</id>
						<goals>
							<goal>antlr4</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<!-- call plugin task "idea:module" for generate module iml file with type ideaPlugin-->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-idea-plugin</artifactId>
				<version>2.2.1</version>
				<configuration>
					<ideaPlugin>true</ideaPlugin>
				</configuration>
			</plugin>
		</plugins>
	</build>
</project>
